(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"1QLJ":function(e,t,i){"use strict";i.r(t),i.d(t,"RevenusModule",function(){return T});var n=i("ofXK"),c=i("3Pt+"),o=i("TEn/"),s=i("tyNb"),a=i("mrSG"),d=i("fXoL"),r=i("XNiG"),m=i("l5mm"),b=i("JX91"),h=i("eIep"),l=i("vkgz"),u=i("tk/3");let p=(()=>{class e{constructor(e){this.http=e,this.apiUrl="https://oafish-orange-production.up.railway.app/api/admin/commands/",this.refreshInterval=5e3,this.notificationSound=new Audio("assets/audio/songOrder.mp3"),this.currentNumberOfCommandes=0,this.previousCommandes=[],this.previousData=[],this.allCommandReceivedSubject=new r.a,this.allCommandReceivedInOrderSubject=new r.a,this.commandReceivedTodaySubject=new r.a,this.commandReceivedYesterdaySubject=new r.a,this.commandReceivedThisWeekSubject=new r.a,this.commandReceivedThisMonthSubject=new r.a,this.allSumPricecommandSubject=new r.a,this.sumPricecommandTodaySubject=new r.a,this.sumPricecommandYesterdaySubject=new r.a,this.sumPricecommandThisWeekSubject=new r.a,this.sumPricecommandThisMonthSubject=new r.a,this.deleteCommandSubject=new r.a,this.allCommandReceived$=this.allCommandReceivedSubject.asObservable(),this.allCommandReceivedInOrder$=this.allCommandReceivedInOrderSubject.asObservable(),this.commandReceivedToday$=this.commandReceivedTodaySubject.asObservable(),this.commandReceivedYesterday$=this.commandReceivedYesterdaySubject.asObservable(),this.commandReceivedThisWeek$=this.commandReceivedThisWeekSubject.asObservable(),this.commandReceivedThisMonth$=this.commandReceivedThisMonthSubject.asObservable(),this.allSumPricecommand$=this.allSumPricecommandSubject.asObservable(),this.sumPricecommandToday$=this.sumPricecommandTodaySubject.asObservable(),this.sumPricecommandYesterday$=this.sumPricecommandYesterdaySubject.asObservable(),this.sumPricecommandThisWeek$=this.sumPricecommandThisWeekSubject.asObservable(),this.sumPricecommandThisMonth$=this.sumPricecommandThisMonthSubject.asObservable(),this.deleteCommand$=this.deleteCommandSubject.asObservable(),this.startPolling()}startPolling(){this.allCommandReceived$=Object(m.a)(this.refreshInterval).pipe(Object(b.a)(0),Object(h.a)(()=>this.http.get(this.apiUrl+"ordre-inverse")),Object(l.a)(e=>this.allCommandReceivedSubject.next(e))),this.allCommandReceivedInOrder$=Object(m.a)(this.refreshInterval).pipe(Object(b.a)(0),Object(h.a)(()=>this.http.get(this.apiUrl+"getAll")),Object(l.a)(e=>{})),this.commandReceivedToday$=Object(m.a)(this.refreshInterval).pipe(Object(b.a)(0),Object(h.a)(()=>this.http.get(this.apiUrl+"added-today")),Object(l.a)(e=>{this.commandReceivedTodaySubject.next(e),this.dataHasChanged(e)&&this.sendNotification(e),this.previousData=e})),this.commandReceivedYesterday$=Object(m.a)(this.refreshInterval).pipe(Object(b.a)(0),Object(h.a)(()=>this.http.get(this.apiUrl+"added-yesterday")),Object(l.a)(e=>this.commandReceivedYesterdaySubject.next(e))),this.commandReceivedThisWeek$=Object(m.a)(this.refreshInterval).pipe(Object(b.a)(0),Object(h.a)(()=>this.http.get(this.apiUrl+"added-this-week")),Object(l.a)(e=>this.commandReceivedThisWeekSubject.next(e))),this.commandReceivedThisMonth$=Object(m.a)(this.refreshInterval).pipe(Object(b.a)(0),Object(h.a)(()=>this.http.get(this.apiUrl+"added-this-mounth")),Object(l.a)(e=>this.commandReceivedThisMonthSubject.next(e))),this.allSumPricecommand$=Object(m.a)(this.refreshInterval).pipe(Object(b.a)(0),Object(h.a)(()=>this.http.get(this.apiUrl+"somme-prix-total")),Object(l.a)(e=>this.allSumPricecommandSubject.next(e))),this.sumPricecommandToday$=Object(m.a)(this.refreshInterval).pipe(Object(b.a)(0),Object(h.a)(()=>this.http.get(this.apiUrl+"sum-price-today")),Object(l.a)(e=>this.sumPricecommandTodaySubject.next(e))),this.sumPricecommandYesterday$=Object(m.a)(this.refreshInterval).pipe(Object(b.a)(0),Object(h.a)(()=>this.http.get(this.apiUrl+"sum-price-yesterday")),Object(l.a)(e=>this.sumPricecommandYesterdaySubject.next(e))),this.sumPricecommandThisWeek$=Object(m.a)(this.refreshInterval).pipe(Object(b.a)(0),Object(h.a)(()=>this.http.get(this.apiUrl+"sum-price-thisweek")),Object(l.a)(e=>this.sumPricecommandThisWeekSubject.next(e))),this.sumPricecommandThisMonth$=Object(m.a)(this.refreshInterval).pipe(Object(b.a)(0),Object(h.a)(()=>this.http.get(this.apiUrl+"sum-price-thismounth")),Object(l.a)(e=>this.sumPricecommandThisMonthSubject.next(e)))}dataHasChanged(e){return JSON.stringify(e)!==JSON.stringify(this.previousData)}sendNotification(e){e.length>0&&this.notificationSound.play()}deleteCommande(e){return this.http.delete(`${this.apiUrl}/${e}`)}getAllCommandesReceived(){return this.allCommandReceived$}getAllCommandesReceivedInOrder(){return this.allCommandReceivedInOrder$}commandReceivedToday(){return this.commandReceivedToday$}commandReceivedYesterday(){return this.commandReceivedYesterday$}commandReceivedThisWeek(){return this.commandReceivedThisWeek$}commandReceivedThisMonth(){return this.commandReceivedThisMonth$}allSumPricecommand(){return this.allSumPricecommand$}sumPricecommandToday(){return this.sumPricecommandToday$}sumPricecommandYesterday(){return this.sumPricecommandYesterday$}sumPricecommandThisWeek(){return this.sumPricecommandThisWeek$}sumPricecommandThisMonth(){return this.sumPricecommandThisMonth$}emitNotification(){this.allCommandReceivedInOrderSubject.next()}}return e.\u0275fac=function(t){return new(t||e)(d.Rb(u.b))},e.\u0275prov=d.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function v(e,t){if(1&e){const e=d.Ob();d.Nb(0,"li",13),d.Vb("click",function(){d.ic(e);const i=t.$implicit;return d.Xb(2).ouvrirModal(i.id)}),d.Nb(1,"div",14),d.oc(2),d.Mb(),d.Nb(3,"div",15),d.oc(4),d.Mb(),d.Nb(5,"div",16),d.oc(6),d.Yb(7,"slice"),d.Mb(),d.Nb(8,"div",17),d.oc(9),d.Mb(),d.Nb(10,"div",18),d.oc(11),d.Mb(),d.Lb(12,"br"),d.Lb(13,"br"),d.Lb(14,"br"),d.Lb(15,"br"),d.Mb()}if(2&e){const e=t.$implicit;d.Ab(2),d.qc("#",e.id,""),d.Ab(2),d.qc("",e.price," \u20ac"),d.Ab(2),d.qc(" ",e.contents.length>120?d.bc(7,6,e.contents,0,120)+"...":e.contents,""),d.Ab(3),d.pc(e.table),d.Ab(2),d.rc("",e.date," ",e.time,"")}}function g(e,t){if(1&e&&(d.Nb(0,"div"),d.Nb(1,"ion-content",2),d.Nb(2,"div",3),d.Nb(3,"div",4),d.oc(4,"Vos revenus "),d.Nb(5,"ion-button"),d.Lb(6,"ion-icon",5),d.Lb(7,"ion-icon",6),d.Mb(),d.Mb(),d.Mb(),d.Nb(8,"div",7),d.Nb(9,"strong"),d.oc(10,"Aujourd'hui"),d.Mb(),d.Nb(11,"p"),d.oc(12),d.Mb(),d.Nb(13,"p"),d.oc(14),d.Yb(15,"number"),d.Nb(16,"sup"),d.oc(17,"\u20ac"),d.Mb(),d.Mb(),d.Mb(),d.Nb(18,"div",8),d.Nb(19,"div",9),d.Nb(20,"strong"),d.oc(21,"Hier"),d.Mb(),d.Nb(22,"p"),d.oc(23),d.Mb(),d.Nb(24,"p"),d.oc(25),d.Yb(26,"number"),d.Nb(27,"sup"),d.oc(28,"\u20ac"),d.Mb(),d.Mb(),d.Mb(),d.Nb(29,"div",10),d.Nb(30,"strong"),d.oc(31,"Semaine"),d.Mb(),d.Nb(32,"p"),d.oc(33),d.Mb(),d.Nb(34,"p"),d.oc(35),d.Yb(36,"number"),d.Nb(37,"sup"),d.oc(38,"\u20ac"),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Nb(39,"div",8),d.Nb(40,"div",9),d.Nb(41,"strong"),d.oc(42,"Mois"),d.Mb(),d.Nb(43,"p"),d.oc(44),d.Mb(),d.Nb(45,"p"),d.oc(46),d.Yb(47,"number"),d.Nb(48,"sup"),d.oc(49,"\u20ac"),d.Mb(),d.Mb(),d.Mb(),d.Nb(50,"div",10),d.Nb(51,"strong"),d.oc(52,"Total"),d.Mb(),d.Nb(53,"p"),d.oc(54),d.Mb(),d.Nb(55,"p"),d.oc(56),d.Yb(57,"number"),d.Nb(58,"sup"),d.oc(59,"\u20ac"),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Nb(60,"div",4),d.oc(61,"Derni\xe8res commandes"),d.Mb(),d.Nb(62,"ul",11),d.mc(63,v,16,10,"li",12),d.Mb(),d.Mb(),d.Mb()),2&e){const e=d.Xb();d.Ab(12),d.qc("Commandes: ",e.commandReceivedToday?e.commandReceivedToday.length:0," "),d.Ab(2),d.qc(" Gains: ",d.ac(15,11,e.sumPricecommandToday,"1.2")," "),d.Ab(9),d.qc("Commandes: ",e.commandReceivedYesterday?e.commandReceivedYesterday.length:0,""),d.Ab(2),d.qc(" Gains: ",d.ac(26,14,e.sumPricecommandYesterday,"1.2")," "),d.Ab(8),d.qc("Commandes: ",e.commandReceivedThisWeek?e.commandReceivedThisWeek.length:0,""),d.Ab(2),d.qc(" Gains: ",d.ac(36,17,e.sumPricecommandThisWeek,"1.2")," "),d.Ab(9),d.qc("Commandes: ",e.commandReceivedThisMonth?e.commandReceivedThisMonth.length:0," "),d.Ab(2),d.qc(" Gains: ",d.ac(47,20,e.sumPricecommandThisMonth,"1.2")," "),d.Ab(8),d.qc("Commandes: ",e.getAllCommandesReceived?e.getAllCommandesReceived.length:0,""),d.Ab(2),d.qc(" Gains: ",d.ac(57,23,e.allSumPricecommand,"1.2")," "),d.Ab(7),d.ec("ngForOf",e.getAllCommandesReceived)}}function M(e,t){if(1&e){const e=d.Ob();d.Nb(0,"li",13),d.Vb("click",function(){d.ic(e);const i=t.$implicit;return d.Xb(2).ouvrirModal(i.id)}),d.Nb(1,"div",14),d.oc(2),d.Mb(),d.Nb(3,"div",15),d.oc(4),d.Mb(),d.Nb(5,"div",16),d.oc(6),d.Yb(7,"slice"),d.Mb(),d.Nb(8,"div",17),d.oc(9),d.Mb(),d.Nb(10,"div",18),d.oc(11),d.Mb(),d.Lb(12,"br"),d.Lb(13,"br"),d.Lb(14,"br"),d.Lb(15,"br"),d.Mb()}if(2&e){const e=t.$implicit;d.Ab(2),d.qc("#",e.id,""),d.Ab(2),d.qc("",e.price," \u20ac"),d.Ab(2),d.qc(" ",e.contents.length>120?d.bc(7,6,e.contents,0,120)+"...":e.contents,""),d.Ab(3),d.pc(e.table),d.Ab(2),d.rc("",e.date," ",e.time,"")}}function O(e,t){if(1&e&&(d.Nb(0,"div",19),d.Nb(1,"ion-content",2),d.Nb(2,"div",3),d.Nb(3,"div",4),d.oc(4,"Vos revenus "),d.Nb(5,"ion-button"),d.Lb(6,"ion-icon",5),d.Lb(7,"ion-icon",6),d.Mb(),d.Mb(),d.Mb(),d.Nb(8,"div",7),d.Nb(9,"strong"),d.oc(10,"Aujourd'hui"),d.Mb(),d.Nb(11,"p"),d.oc(12),d.Mb(),d.Nb(13,"p"),d.oc(14),d.Yb(15,"number"),d.Nb(16,"sup"),d.oc(17,"\u20ac"),d.Mb(),d.Mb(),d.Mb(),d.Nb(18,"div",8),d.Nb(19,"div",9),d.Nb(20,"strong"),d.oc(21,"Hier"),d.Mb(),d.Nb(22,"p"),d.oc(23),d.Mb(),d.Nb(24,"p"),d.oc(25),d.Yb(26,"number"),d.Nb(27,"sup"),d.oc(28,"\u20ac"),d.Mb(),d.Mb(),d.Mb(),d.Nb(29,"div",10),d.Nb(30,"strong"),d.oc(31,"Semaine"),d.Mb(),d.Nb(32,"p"),d.oc(33),d.Mb(),d.Nb(34,"p"),d.oc(35),d.Yb(36,"number"),d.Nb(37,"sup"),d.oc(38,"\u20ac"),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Nb(39,"div",8),d.Nb(40,"div",9),d.Nb(41,"strong"),d.oc(42,"Mois"),d.Mb(),d.Nb(43,"p"),d.oc(44),d.Mb(),d.Nb(45,"p"),d.oc(46),d.Yb(47,"number"),d.Nb(48,"sup"),d.oc(49,"\u20ac"),d.Mb(),d.Mb(),d.Mb(),d.Nb(50,"div",10),d.Nb(51,"strong"),d.oc(52,"Total"),d.Mb(),d.Nb(53,"p"),d.oc(54),d.Mb(),d.Nb(55,"p"),d.oc(56),d.Yb(57,"number"),d.Nb(58,"sup"),d.oc(59,"\u20ac"),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Nb(60,"div",4),d.oc(61,"Derni\xe8res commandes"),d.Mb(),d.Nb(62,"ul",11),d.mc(63,M,16,10,"li",12),d.Mb(),d.Mb(),d.Mb()),2&e){const e=d.Xb();d.Ab(12),d.qc("Commandes: ",e.commandReceivedToday?e.commandReceivedToday.length:0," "),d.Ab(2),d.qc(" Gains: ",d.ac(15,11,e.sumPricecommandToday,"1.2")," "),d.Ab(9),d.qc("Commandes: ",e.commandReceivedYesterday?e.commandReceivedYesterday.length:0,""),d.Ab(2),d.qc(" Gains: ",d.ac(26,14,e.sumPricecommandYesterday,"1.2")," "),d.Ab(8),d.qc("Commandes: ",e.commandReceivedThisWeek?e.commandReceivedThisWeek.length:0,""),d.Ab(2),d.qc(" Gains: ",d.ac(36,17,e.sumPricecommandThisWeek,"1.2")," "),d.Ab(9),d.qc("Commandes: ",e.commandReceivedThisMonth?e.commandReceivedThisMonth.length:0," "),d.Ab(2),d.qc(" Gains: ",d.ac(47,20,e.sumPricecommandThisMonth,"1.2")," "),d.Ab(8),d.qc("Commandes: ",e.getAllCommandesReceived?e.getAllCommandesReceived.length:0,""),d.Ab(2),d.qc(" Gains: ",d.ac(57,23,e.allSumPricecommand,"1.2")," "),d.Ab(7),d.ec("ngForOf",e.getAllCommandesReceived)}}const P=[{path:"",component:(()=>{class e{constructor(e,t,i){this.autoService=e,this.router=t,this.platform=i,this.getAllCommandesReceived=null,this.commandReceivedToday=null,this.commandReceivedYesterday=null,this.commandReceivedThisWeek=null,this.commandReceivedThisMonth=null,this.isMobile=this.platform.is("mobile")}ngOnInit(){this.autoService.getAllCommandesReceived().subscribe(e=>{this.getAllCommandesReceived=e},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e)}),this.autoService.commandReceivedToday().subscribe(e=>{this.commandReceivedToday=e},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e)}),this.autoService.commandReceivedYesterday().subscribe(e=>{this.commandReceivedYesterday=e},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e)}),this.autoService.commandReceivedThisWeek().subscribe(e=>{this.commandReceivedThisWeek=e},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e)}),this.autoService.commandReceivedThisMonth().subscribe(e=>{this.commandReceivedThisMonth=e},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e)}),this.autoService.allSumPricecommand().subscribe(e=>{this.allSumPricecommand=e},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e)}),this.autoService.sumPricecommandToday().subscribe(e=>{this.sumPricecommandToday=e},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e)}),this.autoService.sumPricecommandYesterday().subscribe(e=>{this.sumPricecommandYesterday=e},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e)}),this.autoService.sumPricecommandThisWeek().subscribe(e=>{this.sumPricecommandThisWeek=e},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e)}),this.autoService.sumPricecommandThisMonth().subscribe(e=>{this.sumPricecommandThisMonth=e},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e)})}goToDetailsCommands(e){console.log(e)}ouvrirModal(e){return Object(a.a)(this,void 0,void 0,function*(){console.log("this is the ID",e),this.router.navigate(["admin/commands/details",e])})}}return e.\u0275fac=function(t){return new(t||e)(d.Kb(p),d.Kb(s.f),d.Kb(o.N))},e.\u0275cmp=d.Eb({type:e,selectors:[["app-revenus"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","versionPc",4,"ngIf"],[1,"ion-padding"],[1,"container1"],[1,"flex-item"],["name","cash"],["name","logo-usd"],[1,"div1"],[1,"container"],[1,"div3"],[1,"div4"],[1,"custom-list"],["class","flex-container",3,"click",4,"ngFor","ngForOf"],[1,"flex-container",3,"click"],[1,"item","item-id"],[1,"item","item-price"],[1,"item","item-contents"],[1,"item","item-date"],[1,"item","item-time"],[1,"versionPc"]],template:function(e,t){1&e&&(d.mc(0,g,64,26,"div",0),d.mc(1,O,64,26,"div",1)),2&e&&(d.ec("ngIf",t.isMobile),d.Ab(1),d.ec("ngIf",!t.isMobile))},directives:[n.l,o.j,o.c,o.m,n.k],pipes:[n.e,n.o],styles:[".ion-padding[_ngcontent-%COMP%]{height:800px}.ion-padding[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex}.ion-padding[_ngcontent-%COMP%]   .div1[_ngcontent-%COMP%]{padding:1.6rem 2rem;width:95%;margin:1.5rem .5rem .5rem}.ion-padding[_ngcontent-%COMP%]   .div1[_ngcontent-%COMP%], .ion-padding[_ngcontent-%COMP%]   .div3[_ngcontent-%COMP%], .ion-padding[_ngcontent-%COMP%]   .div4[_ngcontent-%COMP%]{flex:1;background:#f3f3f3;display:flex;flex-direction:column;align-items:center;position:relative;border-radius:1rem;height:160px}.ion-padding[_ngcontent-%COMP%]   .div3[_ngcontent-%COMP%], .ion-padding[_ngcontent-%COMP%]   .div4[_ngcontent-%COMP%]{padding:1.8rem 1rem;width:100%;margin:.5rem}.ion-padding[_ngcontent-%COMP%]   .flex-item[_ngcontent-%COMP%]{margin-left:5%;font-weight:700;color:#515151;font-size:1.8rem;margin-bottom:.5rem;margin-top:.5rem;text-align:center}.ion-padding[_ngcontent-%COMP%]   .p[_ngcontent-%COMP%]{font-size:12px}.ion-padding[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.ion-padding[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#e7dede78;font-size:18px;border-radius:5px;padding:10px;margin-bottom:10px;box-shadow:0 2px 5px #0003;transition:background-color .3s ease;display:flex;justify-content:center;align-items:center;position:relative}.ion-padding[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#ffbf80;cursor:pointer}.ion-padding[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:8px;border-radius:5px;margin:5px;color:#0d0d0d;font-size:14px;flex:0 0 32%;position:absolute}.ion-padding[_ngcontent-%COMP%]   .item-id[_ngcontent-%COMP%]{top:0;left:0;box-shadow:0 1px 3px #0003}.ion-padding[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{background-color:#3af107c2;top:0;right:0;box-shadow:0 5px 9px #3af107c2}.ion-padding[_ngcontent-%COMP%]   .item-contents[_ngcontent-%COMP%]{top:30%;left:50%;transform:translate(-50%,-50%);width:70%;height:70%;text-align:center}.ion-padding[_ngcontent-%COMP%]   .item-date[_ngcontent-%COMP%]{bottom:0;left:0}.ion-padding[_ngcontent-%COMP%]   .item-time[_ngcontent-%COMP%]{bottom:0;right:0}.versionPc[_ngcontent-%COMP%]{margin:auto;width:800px;height:700px}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Ib({type:e}),e.\u0275inj=d.Hb({imports:[[s.i.forChild(P)],s.i]}),e})();var N=i("WJ7A"),j=i("Iyou"),C=i("0jJR"),R=i("sYmb");let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Ib({type:e}),e.\u0275inj=d.Hb({providers:[C.a],imports:[[n.c,c.g,o.I,f,N.a,j.a,R.b]]}),e})()}}]);