(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"Z+eU":function(t,e,n){"use strict";n.r(e),n.d(e,"ListingPageModule",function(){return y});var o=n("ofXK"),i=n("3Pt+"),c=n("TEn/"),r=n("tyNb"),s=n("mrSG"),a=n("fXoL"),l=n("8POb"),g=n("tk/3");const d="https://oafish-orange-production.up.railway.app/api/client/categories";let b=(()=>{class t{constructor(t){this.http=t,this.categories=[]}getAll(){return this.http.get(d)}getCategoryByUserIdAll(t){return this.http.get(`${d}/user/${t}`)}getCategoriesById(t){return this.http.get(`${d}/${t}`)}delete(t){return this.http.delete(`${d}/${t}`)}create(t){return this.http.post(d,t)}update(t,e){return this.http.put(`${d}/${t}`,e)}findByTitle(t){return this.http.get(`${d}?title=${t}`)}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(g.b))},t.\u0275prov=a.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=n("sYmb"),p=n("ib1Z"),u=n("1LJi"),f=n("sKBm");let m=(()=>{class t{constructor(t,e,n){this.alertCtrl=t,this.router=e,this.subFoodService=n,this.clicked=new a.o}addToCart(){window.alert("Add to cart ok !")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(a.Kb(c.a),a.Kb(r.f),a.Kb(f.a))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-food-card"]],inputs:{item:"item"},outputs:{clicked:"clicked"},decls:12,vars:4,consts:[[1,"card",3,"click"],[3,"src"],[1,"card-content"],[1,"title"],[1,"subtitle"]],template:function(t,e){1&t&&(a.Nb(0,"div",0),a.Vb("click",function(){return e.clicked.emit()}),a.Lb(1,"ion-img",1),a.Nb(2,"div",2),a.Nb(3,"h3",3),a.oc(4),a.Mb(),a.Nb(5,"h2",4),a.oc(6),a.Nb(7,"sup"),a.oc(8,"\u20ac"),a.Mb(),a.oc(9),a.Nb(10,"sup"),a.oc(11,"\u20ac"),a.Mb(),a.Mb(),a.Mb(),a.Mb()),2&t&&(a.Ab(1),a.ec("src",e.item.image),a.Ab(3),a.pc(e.item.title),a.Ab(2),a.pc(e.minPrice),a.Ab(3),a.qc(" - ",e.maxPrice,""))},directives:[c.n],styles:[".card[_ngcontent-%COMP%]{padding:0 1rem;background:#f3f3f3;display:flex;flex-direction:column;align-items:center;position:relative;border-radius:2.5rem;margin-bottom:1.5rem;width:100%;height:90%}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;margin-bottom:.2rem;color:#1d1d1d}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#ffb800;margin-top:0}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]   sup[_ngcontent-%COMP%]{font-size:1rem;margin-right:2px;color:#ffb800}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{position:absolute;bottom:-1rem;left:50%;transform:translateX(-50%)}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:#6b45bc;font-weight:700;color:#fff;width:45px;height:45px;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0}"]}),t})();function M(t,e){if(1&t){const t=a.Ob();a.Nb(0,"div",8),a.Vb("click",function(){a.ic(t);const n=e.$implicit;return a.Xb().searchByCategory(n.title)}),a.Lb(1,"ion-img",16),a.Nb(2,"p",10),a.oc(3),a.Mb(),a.Mb()}if(2&t){const t=e.$implicit;a.Ab(1),a.ec("src",t.image),a.Ab(2),a.pc(t.title)}}function C(t,e){if(1&t){const t=a.Ob();a.Nb(0,"app-food-card",17),a.Vb("clicked",function(){a.ic(t);const n=e.$implicit;return a.Xb().goToDetailPage(n.id)}),a.Mb()}2&t&&a.ec("item",e.$implicit)}function P(t,e){1&t&&(a.Nb(0,"div"),a.oc(1," Aucun aliment trouv\xe9. "),a.Mb())}const O=[{path:"",component:(()=>{class t{constructor(t,e,n,o,i,c){this.foodService=t,this.categoryService=e,this.router=n,this.translate=o,this.canalService=i,this.token=c,this.categories=[],this.foods=[],this.title="",this.all="All",o.setDefaultLang("en")}ngOnInit(){this.getParamsURL(),this.getAllCategories(),this.getAllPublishedFoods()}getParamsURL(){const t=window.location.href,e=new URLSearchParams(new URL(t).search);this.canal=e.get("canal"),this.userId=e.get("user"),console.log("valeur de canal: "+this.canal),console.log("valeur de userid : "+this.userId),this.canalService.setCanal(this.canal),this.canalService.setUserId(this.userId)}getAllPublishedFoods(){this.foodService.getAllFoodUserPublished(this.userId).subscribe(t=>{this.foods=t,console.log(t)},t=>{console.log(t)})}getAllCategories(){this.categoryService.getCategoryByUserIdAll(this.canalService.getUserId()).subscribe(t=>{this.categories=t,console.log("Categories: ",t)},t=>{console.log(t)})}goToDetailPage(t){this.router.navigate(["/client/list-sub-food",t])}searchTitle(){this.foodService.findByTitle(this.userId,this.title).subscribe(t=>{this.foods=t,console.log(t)},t=>{console.log(t)})}test(){console.log("test btn")}searchAllByCategory(){this.getAllPublishedFoods()}searchByCategory(t){return Object(s.a)(this,void 0,void 0,function*(){this.foodService.findByTitle(this.userId,t).subscribe(t=>{this.foods=t,console.log(t)},t=>{console.log(t)})})}onLanguageChange(t){this.translate.use(t.detail.value)}}return t.\u0275fac=function(e){return new(e||t)(a.Kb(l.a),a.Kb(b),a.Kb(r.f),a.Kb(h.d),a.Kb(p.a),a.Kb(u.a))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-listing"]],decls:27,vars:13,consts:[[1,"header"],[1,"langueOption"],["value","en",3,"ionChange"],["value","fr"],["value","en"],["value","es"],[3,"ngModel","ngModelChange","ionChange"],[1,"scrolling-wrapper"],[1,"card",3,"click"],["src","assets\\images\\icons\\all.png"],[1,"ion-no-margin"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"list-header"],[1,"food-list"],[3,"item","clicked",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"src"],[3,"item","clicked"]],template:function(t,e){1&t&&(a.Nb(0,"ion-content"),a.Nb(1,"div",0),a.Nb(2,"h1"),a.oc(3),a.Yb(4,"translate"),a.Mb(),a.Nb(5,"ion-item",1),a.Nb(6,"ion-select",2),a.Vb("ionChange",function(t){return e.onLanguageChange(t)}),a.Nb(7,"ion-select-option",3),a.oc(8,"Fr"),a.Mb(),a.Nb(9,"ion-select-option",4),a.oc(10,"En"),a.Mb(),a.Nb(11,"ion-select-option",5),a.oc(12,"es"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(13,"ion-searchbar",6),a.Vb("ngModelChange",function(t){return e.title=t})("ionChange",function(){return e.searchTitle()}),a.Mb(),a.Nb(14,"div",7),a.Nb(15,"div",8),a.Vb("click",function(){return e.searchAllByCategory()}),a.Lb(16,"ion-img",9),a.Nb(17,"p",10),a.oc(18),a.Yb(19,"translate"),a.Mb(),a.Mb(),a.mc(20,M,4,2,"div",11),a.Mb(),a.Nb(21,"h1",12),a.oc(22),a.Yb(23,"translate"),a.Mb(),a.Nb(24,"div",13),a.mc(25,C,1,1,"app-food-card",14),a.Mb(),a.mc(26,P,2,0,"div",15),a.Mb()),2&t&&(a.Ab(3),a.pc(a.Zb(4,7,"MENU")),a.Ab(10),a.ec("ngModel",e.title),a.Ab(5),a.pc(a.Zb(19,9,"ALL")),a.Ab(2),a.ec("ngForOf",e.categories),a.Ab(2),a.pc(a.Zb(23,11,"LIST_HEADER")),a.Ab(3),a.ec("ngForOf",e.foods),a.Ab(1),a.ec("ngIf",!e.foods||0===e.foods.length))},directives:[c.j,c.p,c.A,c.Q,c.B,c.z,c.R,i.l,i.o,c.n,o.k,o.l,m],pipes:[h.c],styles:["ion-content[_ngcontent-%COMP%]{--padding-start:1.5rem;--padding-end:1.5rem}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;margin-top:1rem}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:600;color:#515151;margin:0}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:55px;height:55px;background-color:#f2f2f2;border-radius:50%;display:flex;align-items:flex-end;justify-content:center;overflow:hidden}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:90%;height:90%}ion-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:1rem}ion-content[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{font-weight:700;color:#515151;font-size:1.8rem;margin-bottom:1.6rem}ion-content[_ngcontent-%COMP%]   .food-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem}ion-searchbar[_ngcontent-%COMP%]{--box-shadow:none;--background:#f3f3f3;--border-radius:1.2rem;--placeholder-font-weight:600;--placeholder-opacity:0.2;padding:0;margin-bottom:1rem}.scrolling-wrapper[_ngcontent-%COMP%]{display:flex;overflow-x:scroll;overflow-y:hidden;white-space:nowrap}.scrolling-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:inline-block;padding:.99rem;border-radius:1.5rem;margin-bottom:0;width:30%;height:150px;text-align:center}.scrolling-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:90px;height:90px}.scrolling-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:active{background-color:#9ec4e8}.search[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.search_icon[_ngcontent-%COMP%]{max-height:60px;max-width:60px}"]}),t})()}];let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({imports:[[r.i.forChild(O)],r.i]}),t})();var v=n("vjGy"),w=n("4E68");let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({imports:[[o.c,i.g,c.I,_,v.a,w.a,h.b]]}),t})()}}]);