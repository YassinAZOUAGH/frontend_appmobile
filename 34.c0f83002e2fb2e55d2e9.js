(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{Lvn9:function(e,t,n){"use strict";n.r(t),n.d(t,"ListingPageModule",function(){return M});var o=n("ofXK"),r=n("3Pt+"),c=n("TEn/"),i=n("tyNb"),a=n("mrSG"),s=n("fXoL"),d=n("/24w"),l=n("ib1Z"),g=n("Ym5C");let m=(()=>{class e{constructor(e,t){this.alertCtrl=e,this.router=t,this.clicked=new s.o}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(c.a),s.Kb(i.f))},e.\u0275cmp=s.Eb({type:e,selectors:[["app-command-card"]],inputs:{item:"item"},outputs:{clicked:"clicked"},decls:13,vars:6,consts:[[1,"card",3,"click"],[1,"card-content"],[1,"title"],[1,"subtitle"],[1,"button"]],template:function(e,t){1&e&&(s.Nb(0,"div",0),s.Vb("click",function(){return t.clicked.emit()}),s.Nb(1,"h2"),s.oc(2),s.Mb(),s.Nb(3,"div",1),s.Nb(4,"h3",2),s.oc(5),s.Mb(),s.Nb(6,"h2",3),s.Nb(7,"sup"),s.oc(8,"$"),s.Mb(),s.oc(9),s.Yb(10,"number"),s.Mb(),s.Nb(11,"button",4),s.oc(12,"Delete"),s.Mb(),s.Mb(),s.Mb()),2&e&&(s.Ab(2),s.pc(t.item.table),s.Ab(3),s.pc(t.item.contents),s.Ab(4),s.pc(s.ac(10,3,t.item.price,"1.2")))},pipes:[o.e],styles:[".card[_ngcontent-%COMP%]{width:100%;padding:.2rem .5rem;background:#f3f3f3;display:flex;flex-direction:column;align-items:center;position:relative;border-radius:2.5rem;margin-bottom:.6rem}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#1d1d1d}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:#ff00005e;font-size:1.2rem;border-radius:1.5rem}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#ffb800;margin-top:0}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]   sup[_ngcontent-%COMP%]{font-size:1rem;margin-right:2px;color:#ffb800}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{position:absolute;bottom:-1rem;left:50%;transform:translateX(-50%)}.card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:#6b45bc;font-weight:700;color:#fff;width:45px;height:45px;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0}"]}),e})();function b(e,t){if(1&e){const e=s.Ob();s.Nb(0,"app-command-card",5),s.Vb("click",function(){s.ic(e);const n=t.$implicit;return s.Xb().deleteThisOrder(n.id)}),s.Mb()}2&e&&s.ec("item",t.$implicit)}const p=[{path:"",component:(()=>{class e{constructor(e,t,n,o){this.commandsToPrepareService=e,this.alertCtrl=t,this.canalService=n,this.sharedService=o,this.getAllCommandesReceived=null,this.notificationSound=new Audio("assets/audio/songOrder.mp3"),this.loading=!1}ngOnInit(){this.getParamsURL(),this.getData(this.canalService.getUserIdFoCommand())}getParamsURL(){const e=window.location.href,t=new URLSearchParams(new URL(e).search);this.userId=t.get("user"),console.log("valeur de userIdCommand : "+this.userId),this.canalService.setUserIdFoCommand(this.userId)}getData(e){this.commandsToPrepareService.allCommandsByUserId(e).subscribe(e=>{this.getAllCommandesReceived=e,this.updateSharedVariable(this.getAllCommandesReceived.length)},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es:",e)})}deleteThisOrder(e){return Object(a.a)(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:"Remove",message:"Vous avez trait\xe9 cette commande?",buttons:[{text:"No"},{text:"Yes",handler:()=>{this.deleteCommande(e)}}]})).present()})}deleteCommande(e){this.commandsToPrepareService.deleteCommand(e).subscribe(()=>{},e=>{console.error("Erreur lors de la suppression de la commande:",e)}),this.showLoadingAlert()}updateSharedVariable(e){this.sharedService.updateCommandToPreparLength(e)}showLoadingAlert(){return Object(a.a)(this,void 0,void 0,function*(){const e=yield this.alertCtrl.create({message:'<div class="centered-alert"><ion-spinner name="crescent"></ion-spinner></div>',backdropDismiss:!1});yield e.present(),setTimeout(()=>{e.dismiss()},3e3)})}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(d.a),s.Kb(c.a),s.Kb(l.a),s.Kb(g.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["app-listing"]],decls:8,vars:2,consts:[[1,"header"],[1,"avatar"],["src","assets\\images\\face.png"],[1,"food-list"],[3,"item","click",4,"ngFor","ngForOf"],[3,"item","click"]],template:function(e,t){1&e&&(s.Nb(0,"ion-content"),s.Nb(1,"div",0),s.Nb(2,"h1"),s.oc(3),s.Mb(),s.Nb(4,"div",1),s.Lb(5,"ion-img",2),s.Mb(),s.Mb(),s.Nb(6,"div",3),s.mc(7,b,1,1,"app-command-card",4),s.Mb(),s.Mb()),2&e&&(s.Ab(3),s.qc("",null==t.getAllCommandesReceived?null:t.getAllCommandesReceived.length," Orders"),s.Ab(4),s.ec("ngForOf",t.getAllCommandesReceived))},directives:[c.j,c.n,o.k,m],styles:["ion-content[_ngcontent-%COMP%]{--padding-start:2rem;--padding-end:2rem}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;margin-top:3rem}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:600;color:#515151;margin:0}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:35px;height:35px;background-color:#6b45bc;border-radius:50%;display:flex;align-items:flex-end;justify-content:center;overflow:hidden}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:90%;height:90%}ion-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:1rem}ion-content[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{font-weight:700;color:#515151;font-size:1.8rem;margin-bottom:1.6rem;margin-top:2.5rem}ion-content[_ngcontent-%COMP%]   .food-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem}ion-searchbar[_ngcontent-%COMP%]{--box-shadow:none;--background:#f3f3f3;--border-radius:1.2rem;--placeholder-font-weight:600;--placeholder-opacity:0.2;padding:0;margin-bottom:2rem}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.wrapper[_ngcontent-%COMP%]   .image-card[_ngcontent-%COMP%]{background-color:#f3f3f3;padding:.8rem;border-radius:1.5rem;margin-bottom:.5rem;width:100%;height:100%}.wrapper[_ngcontent-%COMP%]   .image-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{opacity:.9;width:100%;height:100%}.wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c7c7c7}.centered-alert[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.centered-alert[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.spinner-container[_ngcontent-%COMP%]{height:100%}"]}),e})()}];let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({imports:[[i.i.forChild(p)],i.i]}),e})();var h=n("vjGy"),f=n("4E68");let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({imports:[[o.c,c.I]]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({imports:[[o.c,r.g,c.I,u,h.a,f.a,C,c.I]]}),e})()}}]);