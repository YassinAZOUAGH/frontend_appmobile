(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"7fZn":function(e,t,n){"use strict";n.r(t),n.d(t,"AddFoodModule",function(){return m});var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),c=n("tyNb"),s=n("fXoL"),a=n("jhN1"),l=n("KJOm"),b=n("0jJR"),d=n("1LJi");function p(e,t){if(1&e&&s.Lb(0,"img",15),2&e){const e=s.Xb();s.ec("src",e.imgResultAfterResizeMax,s.jc)}}const g=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i,r){this.sanitizer=e,this.foodService=t,this.router=n,this.imageCompress=o,this.location=i,this.token=r,this.imgResultAfterResizeMax="",this.food={title:"",price:null,image:"",description:"",published:!0}}ngOnInit(){this.currentUser=this.token.getUser()}onFileSelect(e){this.selectedFile=e.target.files[0],console.log(this.selectedFile.name)}changeAvatar(e){if(0===e.length)return;if(null==e[0].type.match(/image\/*/))return void console.log("Only images are supported.");const t=new FileReader;t.readAsDataURL(e[0]),t.onload=e=>{this.avatarURL=t.result,console.log("the data is",this.avatarURL)}}showImage(){console.log("testok"),this.imageSource=this.sanitizer.bypassSecurityTrustResourceUrl(`${this.avatarURL}`),console.log("this is image",this.imageSource)}uploadAndReturnWithMaxSize(){return this.imageCompress.uploadAndGetImageWithMaxSize(1,!0).then(e=>{this.imgResultAfterResizeMax=e,console.log("--\x3e",e)},e=>{console.error("The compression algorithm didn't succed! The best size we can do is",this.imageCompress.byteCount(e),"bytes"),this.imgResultAfterResizeMax=e})}saveFood(){this.foodService.create({title:this.food.title,price:this.food.price,image:this.imgResultAfterResizeMax,description:this.food.description,published:this.food.published}).subscribe(e=>{console.log(e),window.location.reload()},e=>{console.log(e)}),this.location.back()}onBlur(e){e.target.value||(this.focused=!1)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(a.b),s.Kb(l.a),s.Kb(c.f),s.Kb(b.a),s.Kb(o.h),s.Kb(d.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["app-add-food"]],decls:40,vars:5,consts:[[1,"ionContent"],[1,"header"],["routerLink","/admin/listing"],["slot","icon-only","color","light","name","arrow-back"],[1,"title"],[1,"submit-form"],[1,"form-group"],["type","text","id","title","placeholder","Title","required","","name","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","price","placeholder","Price","required","","name","title",1,"form-control",3,"ngModel","ngModelChange"],[3,"click"],["alt","test",3,"src",4,"ngIf"],["id","description","placeholder","Description","required","","name","description",1,"form-control",3,"ngModel","ngModelChange"],[1,"label"],["type","checkbox",3,"ngModel","ngModelChange"],["expand","block","color","success",1,"btnSave",3,"click"],["alt","test",3,"src"]],template:function(e,t){1&e&&(s.Nb(0,"ion-content",0),s.Nb(1,"div",1),s.Nb(2,"ion-buttons"),s.Nb(3,"ion-button",2),s.Lb(4,"ion-icon",3),s.Mb(),s.Mb(),s.Nb(5,"div",4),s.Nb(6,"p"),s.oc(7,"Ajouter un cat\xe9gorie "),s.Mb(),s.Lb(8,"p"),s.Mb(),s.Nb(9,"ion-button"),s.oc(10," Save "),s.Mb(),s.Mb(),s.Lb(11,"br"),s.Nb(12,"div",5),s.Nb(13,"div",6),s.Nb(14,"label"),s.oc(15,"Titre"),s.Mb(),s.Nb(16,"input",7),s.Vb("ngModelChange",function(e){return t.food.title=e}),s.Mb(),s.Mb(),s.Nb(17,"div",6),s.Nb(18,"label"),s.oc(19,"Prix"),s.Mb(),s.Nb(20,"input",8),s.Vb("ngModelChange",function(e){return t.food.price=e}),s.Mb(),s.Mb(),s.Nb(21,"div",6),s.Nb(22,"label"),s.oc(23,"Image"),s.Mb(),s.Lb(24,"br"),s.Nb(25,"button",9),s.Vb("click",function(){return t.uploadAndReturnWithMaxSize()}),s.oc(26," Veuillez choisir une image "),s.Mb(),s.mc(27,p,1,1,"img",10),s.Mb(),s.Nb(28,"div",6),s.Nb(29,"label"),s.oc(30,"Description"),s.Mb(),s.Nb(31,"input",11),s.Vb("ngModelChange",function(e){return t.food.description=e}),s.Mb(),s.Mb(),s.Nb(32,"div",6),s.Nb(33,"label",12),s.oc(34," Disponible "),s.Mb(),s.Nb(35,"input",13),s.Vb("ngModelChange",function(e){return t.food.published=e}),s.Mb(),s.Mb(),s.Lb(36,"br"),s.Lb(37,"br"),s.Nb(38,"ion-button",14),s.Vb("click",function(){return t.saveFood()}),s.oc(39,"Save"),s.Mb(),s.Mb(),s.Mb()),2&e&&(s.Ab(16),s.ec("ngModel",t.food.title),s.Ab(4),s.ec("ngModel",t.food.price),s.Ab(7),s.ec("ngIf",t.imgResultAfterResizeMax),s.Ab(4),s.ec("ngModel",t.food.description),s.Ab(4),s.ec("ngModel",t.food.published))},directives:[r.j,r.d,r.c,r.P,c.g,r.m,i.b,i.r,i.l,i.o,i.p,o.l,i.a],styles:['ion-content[_ngcontent-%COMP%]{position:relative}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#6b45bc;border-radius:0 0 1rem 1rem;display:flex;justify-content:space-between;padding:.5rem;width:100%}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2rem}input[_ngcontent-%COMP%]{width:95%;padding:12px 20px;margin:8px;box-sizing:border-box}input[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:none;outline:none;position:absolute;height:40px;width:120px;border:15px solid var(--body);border-radius:300px;cursor:pointer;box-shadow:9px 9px 16px #bdbdbd99,-9px -9px 16px #ffffff80,inset 10px 10px 15px -10px #c3c3c3,inset -10px -10px 15px -10px #fff}input[type=checkbox][_ngcontent-%COMP%]:before{content:"";height:30px;width:30px;background-color:var(--body);position:absolute;margin:auto;top:0;left:15px;bottom:0;border-radius:50%;box-shadow:7px 7px 15px #c3c3c3,9px 9px 16px #bdbdbd99;transition:.15s}input[type=checkbox][_ngcontent-%COMP%]:after{content:"Non";position:absolute;font-size:20px;top:9px;right:15px;color:var(--text-secondary);font-family:SF Pro Text,Helvetica Neue,Helvetica,Arial,sans-serif}input[type=checkbox][_ngcontent-%COMP%]:checked{background:#0071e3}@media (prefers-color-scheme:light){input[type=checkbox][_ngcontent-%COMP%]:checked{box-shadow:9px 9px 16px #bdbdbd99,-9px -9px 16px #ffffff80,inset 10px 10px 15px -10px #0047b9,inset -10px -10px 15px -10px #0047b9}}input[type=checkbox][_ngcontent-%COMP%]:checked:before{left:85px;box-shadow:none}input[type=checkbox][_ngcontent-%COMP%]:checked:after{content:"Oui";left:15px;color:#f5f5f7}.btnSave[_ngcontent-%COMP%]{width:80px}.btnSave[_ngcontent-%COMP%], .image[_ngcontent-%COMP%]{border-radius:70%;height:50px}.image[_ngcontent-%COMP%]{width:200px}.title[_ngcontent-%COMP%]{font-weight:700;color:#ffb800;font-size:1.2rem;margin-right:25%}form[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;width:100%;text-align:right;font-weight:600;font-size:14px;color:#4a4a4a}form[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{display:block;margin-top:3rem}.alert-danger[_ngcontent-%COMP%]{color:red;padding-top:48px;text-align:center}.form-field[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem;height:50px}.form-field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1rem;color:#939fab;font-size:1rem;transition:.3s;padding:0 .25rem 0 20px}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;font-size:17px;font-weight:600;border:2px solid #e7ebee;border-radius:10px;outline:none;padding:1rem;background:none;z-index:1;color:#171c25}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#fa578e}.form-field[_ngcontent-%COMP%]   .label-focused[_ngcontent-%COMP%]{top:-.4rem;left:.8rem;font-size:14px;font-weight:600;background-color:#fff;z-index:10}.inline-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:30px;margin-bottom:40px}.inline-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.inline-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin:65%;order:2}']}),e})()}];let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({imports:[[c.i.forChild(g)],c.i]}),e})();var f=n("90tW"),h=n("Ihoe"),x=n("sYmb");let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({imports:[[o.c,i.g,r.I,u,f.a,h.a,i.q,x.b]]}),e})()},Ihoe:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("ofXK"),i=n("TEn/"),r=n("fXoL");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({imports:[[o.c,i.I]]}),e})()}}]);