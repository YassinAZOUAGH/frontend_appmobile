(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{jkd7:function(e,t,n){"use strict";n.r(t),n.d(t,"TestModule",function(){return f});var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),c=n("tyNb"),s=n("fXoL"),a=n("jhN1"),d=n("KJOm"),l=n("0jJR");function b(e,t){if(1&e&&s.Lb(0,"img",14),2&e){const e=s.Xb();s.ec("src",e.imgResultAfterResizeMax,s.jc)}}const p=[{path:"",component:(()=>{class e{constructor(e,t,n,o){this.sanitizer=e,this.foodService=t,this.router=n,this.imageCompress=o,this.imgResultAfterResizeMax="",this.food={title:"",price:0,image:"",description:"",published:!1}}onFileSelect(e){this.selectedFile=e.target.files[0],console.log(this.selectedFile.name)}changeAvatar(e){if(0===e.length)return;if(null==e[0].type.match(/image\/*/))return void console.log("Only images are supported.");const t=new FileReader;t.readAsDataURL(e[0]),t.onload=e=>{this.avatarURL=t.result,console.log("the data is",this.avatarURL)}}showImage(){console.log("testok"),this.imageSource=this.sanitizer.bypassSecurityTrustResourceUrl(`${this.avatarURL}`),console.log("this is image",this.imageSource)}uploadAndReturnWithMaxSize(){return this.imageCompress.uploadAndGetImageWithMaxSize(1,!0).then(e=>{this.imgResultAfterResizeMax=e,console.log("--\x3e",e)},e=>{console.error("The compression algorithm didn't succed! The best size we can do is",this.imageCompress.byteCount(e),"bytes"),this.imgResultAfterResizeMax=e})}saveFood(){this.foodService.create({title:this.food.title,price:this.food.price,image:this.imgResultAfterResizeMax,description:this.food.description,published:this.food.published}).subscribe(e=>{console.log(e),window.location.reload()},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(a.b),s.Kb(d.a),s.Kb(c.f),s.Kb(l.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["app-test"]],decls:37,vars:6,consts:[[1,"header"],[1,"avatar"],["src","assets\\images\\face.png"],[1,"submit-form"],[1,"form-group"],["type","text","id","title","placeholder","Title","required","","name","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","price","placeholder","Price","required","","name","title",1,"form-control",3,"ngModel","ngModelChange"],[3,"click"],["alt","test",3,"src",4,"ngIf"],["id","description","placeholder","Description","required","","name","description",1,"form-control",3,"ngModel","ngModelChange"],[1,"cell"],[1,"label"],["type","checkbox",3,"ngModel","ngModelChange"],["color","success",1,"btnSave",3,"routerLink","click"],["alt","test",3,"src"]],template:function(e,t){1&e&&(s.Nb(0,"ion-content"),s.Nb(1,"div",0),s.Nb(2,"h2"),s.oc(3,"Ajouter un element"),s.Mb(),s.Nb(4,"div",1),s.Lb(5,"ion-img",2),s.Mb(),s.Mb(),s.Nb(6,"div",3),s.Nb(7,"div",4),s.Nb(8,"label"),s.oc(9,"Titre"),s.Mb(),s.Nb(10,"input",5),s.Vb("ngModelChange",function(e){return t.food.title=e}),s.Mb(),s.Mb(),s.Nb(11,"div",4),s.Nb(12,"label"),s.oc(13,"Prix"),s.Mb(),s.Nb(14,"input",6),s.Vb("ngModelChange",function(e){return t.food.price=e}),s.Mb(),s.Mb(),s.Nb(15,"div",4),s.Nb(16,"label"),s.oc(17,"Image"),s.Mb(),s.Lb(18,"br"),s.Nb(19,"button",7),s.Vb("click",function(){return t.uploadAndReturnWithMaxSize()}),s.oc(20," Veuillez choisir une image "),s.Mb(),s.mc(21,b,1,1,"img",8),s.Mb(),s.Nb(22,"div",4),s.Nb(23,"label"),s.oc(24,"Description"),s.Mb(),s.Nb(25,"input",9),s.Vb("ngModelChange",function(e){return t.food.description=e}),s.Mb(),s.Mb(),s.Nb(26,"div",4),s.Nb(27,"div",10),s.Nb(28,"label",11),s.oc(29," Disponible "),s.Mb(),s.Mb(),s.Nb(30,"input",12),s.Vb("ngModelChange",function(e){return t.food.published=e}),s.Mb(),s.Mb(),s.Lb(31,"br"),s.Lb(32,"br"),s.Lb(33,"br"),s.Lb(34,"br"),s.Nb(35,"ion-button",13),s.Vb("click",function(){return t.saveFood()}),s.oc(36,"Save"),s.Mb(),s.Mb(),s.Mb()),2&e&&(s.Ab(10),s.ec("ngModel",t.food.title),s.Ab(4),s.ec("ngModel",t.food.price),s.Ab(7),s.ec("ngIf",t.imgResultAfterResizeMax),s.Ab(4),s.ec("ngModel",t.food.description),s.Ab(5),s.ec("ngModel",t.food.published),s.Ab(5),s.ec("routerLink","/client1/admin/listing"))},directives:[r.j,r.n,i.b,i.r,i.l,i.o,i.p,o.l,i.a,r.c,r.P,c.g],styles:['ion-content[_ngcontent-%COMP%]{--padding-start:2rem;--padding-end:2rem}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;margin-top:3rem}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:600;color:#515151;margin:0}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:35px;height:35px;background-color:#6b45bc;border-radius:50%;display:flex;align-items:flex-end;justify-content:center;overflow:hidden}ion-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:90%;height:90%}ion-content[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:1rem}ion-content[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{font-weight:700;color:#515151;font-size:1.8rem;margin-bottom:1.6rem;margin-top:2.5rem}ion-content[_ngcontent-%COMP%]   .food-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem}input[_ngcontent-%COMP%]{width:95%;padding:12px 20px;margin:8px;box-sizing:border-box}input[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:none;outline:none;position:absolute;height:40px;width:120px;border:15px solid var(--body);border-radius:300px;cursor:pointer;box-shadow:9px 9px 16px #bdbdbd99,-9px -9px 16px #ffffff80,inset 10px 10px 15px -10px #c3c3c3,inset -10px -10px 15px -10px #fff}input[type=checkbox][_ngcontent-%COMP%]:before{content:"";height:30px;width:30px;background-color:var(--body);position:absolute;margin:auto;top:0;left:15px;bottom:0;border-radius:50%;box-shadow:7px 7px 15px #c3c3c3,9px 9px 16px #bdbdbd99;transition:.15s}input[type=checkbox][_ngcontent-%COMP%]:after{content:"Non";position:absolute;font-size:20px;top:9px;right:15px;color:var(--text-secondary);font-family:SF Pro Text,Helvetica Neue,Helvetica,Arial,sans-serif}input[type=checkbox][_ngcontent-%COMP%]:checked{background:#0071e3}@media (prefers-color-scheme:light){input[type=checkbox][_ngcontent-%COMP%]:checked{box-shadow:9px 9px 16px #bdbdbd99,-9px -9px 16px #ffffff80,inset 10px 10px 15px -10px #0047b9,inset -10px -10px 15px -10px #0047b9}}input[type=checkbox][_ngcontent-%COMP%]:checked:before{left:85px;box-shadow:none}input[type=checkbox][_ngcontent-%COMP%]:checked:after{content:"Oui";left:15px;color:#f5f5f7}.btnSave[_ngcontent-%COMP%]{border-radius:70%;height:50px;width:200px}']}),e})()}];let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({imports:[[c.i.forChild(p)],c.i]}),e})();var u=n("WJ7A"),h=n("Iyou");let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({imports:[[o.c,i.g,r.I,g,u.a,h.a]]}),e})()}}]);